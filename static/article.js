"use strict";function loadDisqus(e,t){if(t){var n=document.createElement("div");n.className="comm",n.innerHTML='<div comment="copy from bilibili.com :P" onclick="loadDisqusComment(this)">Load Comments</div>',t.appendChild(n)}}function loadDisqusComment(e){if(e){var t=e.parentElement;t.style.display="none"}var n=location.pathname.split("/").slice(-2).join("/");window.disqus_config=function(){this.page.identifier=n};var a=document,o=document.createElement("script");o.src="//creamidea.disqus.com/embed.js",o.setAttribute("data-timestamp",+new Date),(a.head||a.body).appendChild(o);var r=document.getElementById("content"),i=document.createElement("div");i.id="outline_disqus_thread",i.className="outline-2",i.style.marginBottom="44px",i.innerHTML='<h2 id="disqus_thread_header">Comments</h2><div id="disqus_thread"><p style="text-align:center;font-family: Georgia1,Georgia,Times New Roman,Times,serif;">Disqus is on the way...</p></div>',r.appendChild(i),ga("send","event",{eventCategory:"Comment",eventAction:"click",eventLabel:n})}window.console=window.console||function(){var e={};return e.log=e.warn=e.debug=e.info=e.error=e.time=e.dir=e.profile=e.clear=e.exception=e.trace=e.assert=function(){},e}(),"function"!=typeof Object.assign&&!function(){Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var a=arguments[n];if(void 0!==a&&null!==a)for(var o in a)a.hasOwnProperty(o)&&(t[o]=a[o])}return t}}(),function(e){function t(t,n,a){function o(t,n){e.addEventListener?this.addEventListener(t,n,!1):e.attachEvent?this.attachEvent("on"+t,n):this["on"+t]=n}o.call(t,n,a)}function n(t,n,a){function o(t,n){e.removeEventListener?this.removeEventListener(t,n,!1):e.detachEvent?this.detachEvent("on"+t,n):null}o.call(t,n,a)}function a(t){var n=t.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.top<=(e.innerHeight||document.documentElement.clientHeight)}function o(e){var t={},n=document.getElementsByTagName("head")[0];!function(e,t){for(var n=t.children,a=0,o=n.length;a<o;a++){var r=t.children[a],i=r.getAttribute("name");"TITLE"===r.nodeName?e.title=r.innerText:"META"===r.nodeName&&i&&(e[i]=r.getAttribute("content"))}}(t,n);var a=document.getElementById("meta-article");return a&&a.children.length>0&&!function(e,t){for(var n=t.children,a=0,o=n.length;a<o;a++){var r=n[a],i=r.className;if("email"===i)e.email=r.children[0].innerHTML;else if("author"===i){var c=r.innerHTML.match(/\(.*\)/g);c?e.author_en=c[0].slice(1,-1):e.author_en="Junjia Ni",e.author=r.innerHTML}else e[i]=r.innerHTML}}(t,a),e===!0&&!function(e){console.log("Article's Meta");for(var t="function"==typeof Object.keys?Object.keys(e):[],n=0,a=t.length;n<a;n++){var o=t[n];console.log(o.toUpperCase()+": "+e[o])}}(t),t}function r(e,t,n){var a=document.createElement("div"),o="Avatar loaeed failure.",r="https://media.githubusercontent.com/media/creamidea/creamidea.github.com/master";n.author_en&&(o="<img class=author-"+n.author_en+" src="+r+"/static/img/"+n.author_en.toLowerCase().replace(/\s/g,"-")+".png></img>"),a.id="author-card",a.innerHTML='<div class="card"> <div class="card-avatar">'+o+'</div><div class="card-content"><h3 class="card-name">'+n.author+'</h3><section><p>Email: <a href="mailto:'+n.email+'">'+n.email+"</a></p><p>Date: "+n.date+"</p><p alt='Last Modification Time'>LMT: "+n["last-modification-time"]+'</p></section></div></div><hr class="section-divider"></hr>',t.appendChild(a)}function i(e,t,n){var a=document.createElement("footer"),o='<code class="src src-elisp"><span style="color: #c5c8c6;">(</span><span style="color: #b5bd68;">let</span> <span style="color: #8abeb7;">(</span><span style="color: #f0c674;">(</span>editor <span style="color: #8abeb7;"><a href="http://www.gnu.org/software/emacs/">"Emacs"</a></span><span style="color: #f0c674;">)</span><span style="color: #f0c674;">(</span>generator <span style="color: #b5bd68;">(</span>concat <span style="color: #8abeb7;"> <a href="http://orgmode.org/">"Org-mode"</a></span> <span style="color: #8abeb7;">" &amp; "</span> <span style="color: #8abeb7;"><a href="http://nodejs.org/">"Nodejs"</a></span> <span style="color: #8abeb7;">" &amp; "</span> <span style="color: #8abeb7;"> <a href="https://git-scm.com/">"Git"</a></span><span style="color: #b5bd68;">)</span><span style="color: #f0c674;">)</span><span style="color: #f0c674;">(</span>hostor <span style="color: #8abeb7;"><a href="https://github.com/">"Github"</a></span><span style="color: #f0c674;">)</span><span style="color: #8abeb7;">)</span><span style="color: #c5c8c6;">)</span></code>';a.innerHTML='<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Attribution-NonCommercial-ShareAlike 4.0 International License</a>.<br />'+o,e.appendChild(a)}function c(e,t,n){if(n.keywords){var a=n.keywords.split(",");if(a&&a.length>0){var o=document.createElement("div"),r=document.getElementById("author-card");a.forEach(function(e){var t=document.createElement("a");t.href="/#!/tags?tag="+encodeURIComponent(e),t.title="Go to "+e,t.innerHTML=e,o.appendChild(t)}),o.id="tags",t.insertBefore(o,r)}}}function s(e){var t=document.createElement("div");return t.id="img-wapper",e.appendChild(t),t}function l(e,n){function a(t){var a=t.target;if("IMG"===a.nodeName||"img-wapper"===a.id){var o=n.getElementsByTagName("img")[0];if(o)o.style.transform="scale(0.8) translateY(-50px)",setTimeout(function(){n.removeChild(o),n.style.opacity=0,n.style.display="none",e.style.overflowY="scroll"},150);else{var r=document.createElement("img");r.src=t.target.src,r.style.maxWidth="100%",n.appendChild(r),n.style.display="block",n.style.opacity=1;var i=n.getBoundingClientRect().height,c=r.getBoundingClientRect().height||366,s=(i+c)/2/c;s>1&&(s=.98);var l=(i-c*s)/2;r.style.transform="scale("+s+") translateY("+l+"px)",e.style.overflowY="hidden"}}}t(e,"click",a)}function d(e){var t=new XMLHttpRequest;return t?(t.onreadystatechange=function(){try{t.readyState===XMLHttpRequest.DONE&&(200===t.status?"function"==typeof e.success&&e.success(t.responseText):"function"==typeof e.fail&&e.fail(t))}catch(n){"function"==typeof e.error&&e.error(t,n),console.log(n)}},t.open(e.type||"GET",e.url),void t.send()):(console.error("Giving up :( Cannot create an XMLHTTP instance"),!1)}function m(){var e={};return function(t,n,a){function o(){r+=1,r===c&&"function"==typeof n&&n.apply(this,i)}for(var r=0,i=[],c=t.length,s=0;s<c;s++){var l=t[s];"undefined"!=typeof e[l]?(i[s]=e[l],o()):!function(t,n,a,c){d({url:n,success:function(a){i[t]=a,e[n]=a,o()},fail:function(e,t){r-=1,"function"==typeof c&&c(e,t)}})}(s,l,n,a)}}}function u(e,t,n){return function(a,o){t(e,function(e,t,o){var r=document.createElement("script"),i=document.createTextNode([].join.call(arguments,";\n;"));r.appendChild(i),r.type="text/javascript",n.appendChild(r),setTimeout(function(){n.removeChild(r)},1e4),"function"==typeof a&&a()},function(){"function"==typeof o&&o()})}}function p(t,n,a,o,r){t.innerHTML="Loaded...";var i=t?t.parentNode:this.parentNode;u(n.sources,a,o)(function(){var t=e[n.func].parse.call(e[n.func],n.data);i.innerHTML="",t.drawSVG(i,n.options)},function(){t.disabled=!1,t.innerHTML="Loaded failed. Try again?"})}function f(e,t,n){var a={sequence:{sources:["//cdn.bootcss.com/raphael/2.2.6/raphael.min.js","//cdn.bootcss.com/underscore.js/1.8.3/underscore-min.js","//cdn.bootcss.com/js-sequence-diagrams/1.0.6/sequence-diagram-min.js"],func:"Diagram",options:{theme:"simple"}},flowchart:{sources:["//cdn.bootcss.com/raphael/2.2.6/raphael.min.js","//cdn.bootcss.com/flowchart/1.6.3/flowchart.min.js"],func:"flowchart",options:{}}};w.call(t,function(t){var o,r=document.createElement("div"),i=document.createElement("button"),c=t.childNodes[0].data,s=t.childNodes[t.childElementCount].firstChild,l=s?s.data:"{}";r.className="js-diagram-p",r.innerHTML=C.call(c.split(/\r?\n/),function(e){if(!/^\s*$/.test(e))return!o&&e.search(/title/i)>=0&&(o=e),"<p>"+e+"</p>"}).join(""),i.className="btn "+t.className,i.onclick=function(t){t.stopPropagation(),this.disabled=!0;try{var r=this.className.split("-")[1],i=a[r];i.data=c,Object.assign(i.options,JSON.parse(l)),p(this,i,n,e)}catch(e){console.log("[Draw Diagram] ",e),this.innerHTML="Draw Error!"}ga("send","event",{eventCategory:"Diagram",eventAction:"click",eventLabel:o+", Type: "+r})},i.innerHTML="Draw Diagram",t.innerHTML="",t.appendChild(r),t.appendChild(i)})}function h(e,t,n){function a(e){var t=document.createElement("a");return t.href="#"+e.id,t.innerHTML="#",t}w&&w.call(["h2","h3","h4"],function(e){w.call(document.getElementsByTagName(e),function(e){e.appendChild(a(e))})});for(var o=document.getElementsByTagName("a"),r=document.createElement("a"),i=location.hostname,c=0,s=o.length-1;c<s;c++)o[c].onclick=function(e){var t,n,a=this.getAttribute("href");r.href=a,t=r.hostname,n="mailto:"===r.protocol?"Email":t===i?"Internal Link":"Outbound Link",ga("send","event",{eventCategory:n,eventAction:"click",eventLabel:this.href,transport:"beacon"})};for(var l=document.getElementsByTagName("img"),d=0,m=l.length-1;d<m;d++)l[d].onclick=function(e){ga("send","event",{eventCategory:"Image",eventAction:"click",eventLabel:this.getAttribute("alt")||this.getAttribute("title")||this.src||this.getAttribute("data-src"),transport:"beacon"})}}function g(e){var t=document.getElementsByTagName("head")[0],n=location.pathname,a=document.createElement("meta");a.name="theme-color",n.indexOf("articles")>=0?(e.style.borderTop="2px solid #191919",a.content="#191919"):n.indexOf("translation")>=0?(e.style.borderTop="2px solid #ED462F",a.content="#ED462F"):n.indexOf("wiki")>=0&&(e.style.borderTop="2px solid #4285f4",a.content="#4285f4"),t.appendChild(a);var o=document.createElement("a");o.className="return",location.pathname.search(/\/wiki\//i)>=0?o.href="/":o.href="/#!/archive",e.appendChild(o);var r=document.createElement("a");r.href="https://github.com/creamidea/creamidea.github.com/",r.className="github-badge",r.innerHTML='<svg aria-hidden="true" class="octicon octicon-mark-github" height="24" version="1.1" viewBox="0 0 16 16" width="24"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg>',e.appendChild(r)}function v(e,t){var n=Math.round((Date.now()-new Date(t.date))/864e5);if(n>365){var a=document.getElementById("table-of-contents"),o=document.createElement("div");o.style.fontSize="16px",o.className="alert alert-warning",o.innerHTML="文章发表于<strong>"+n+"</strong>天前。日期过于久远，请合理参考。<br />This article was created at <strong>"+n+"</strong> days ago. It is too long, so please pay more attention.",e.insertBefore(o,a)}}function y(e,t){var n=document.createElement("img"),a=e.getAttribute("data-src");n.onerror=function(){console.log("Lazy load image error.")},n.onload=function(){e.parent?e.parent.replaceChild(n,e):e.src=a,e.removeAttribute("lazy-load"),t?t():null},n.src=a}function b(e){for(var t=0;t<e.length;t++)a(e[t])&&y(e[t],function(){e.splice?e.splice(t,t):null})}function E(n){var a=[];a=n.querySelectorAll?n.querySelectorAll("img[lazy-load]"):L.call(n.getElementsByTagName("img"),function(e){return!!e.hasAttribute("lazy-load")}),e.hasOwnProperty("touchmove")?t(e,"touchmove",function(){b(a)}):t(e,"scroll",function(){b(a)}),b(a)}function T(){var e=document.createElement("div");e.innerHTML='<p>Oops! Your browser is too outmoded. Would you please try the lastest <a href="https://www.google.com/chrome/">Chrome</a>?</p>',e.style.textAlign="center",e.style.background="#ed462f",e.style.color="white",e.style.padding="4px",e.style.fontSize="20px",document.getElementsByTagName("body")[0].insertBefore(e,document.getElementById("content"))}var w=Array.prototype.forEach,C=Array.prototype.map,L=(Array.prototype.slice,Array.prototype.filter);!function(){for(var a=!1,d=["DOMContentLoaded","load"],u=(e.location.pathname,document.getElementsByTagName("body")[0]),p=document.getElementById("content"),y=o(!0),b=0,C=d.length;b<C;b++){var L=d[b];t(e,L,function(){a||(a=!0,"undefined"==typeof w&&T(),g(u),v(p,y),r(u,p,y),i(u,p,y),h(u,p),"function"==typeof w&&(c(u,p,y),E(p),w.call([document.getElementsByClassName("js-sequence-diagram"),document.getElementsByClassName("js-flowchart-diagram")],function(e){f(u,e,m())}),l(u,s(u)),loadDisqus(u,p)),n(e,L,function(){}))},!1)}}()}(this);