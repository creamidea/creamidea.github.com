"use strict";function changeOctoCat2(e){var t=document.createElement("iframe");t.style.display="none",t.src="https://octodex.github.com/",t.id="octodex",t.onload=function(){console.log("iframe load success")},e.appendChild(t)}function changeOctoCat(e){var t=document.createElement("script");t.src="/static/octodex-data.js",t.onload=function(){var t=window.octodex;if(t){var n=t.length,a=t[Math.round(1e4*Math.random(n)%n)];if(!a.src)return void console.log("Now, I want to load ",a,". But failed!");var o="https://octodex.github.com"+a.src,i=document.createElement("img");i.style.display="none",i.src=o,i.onload=function(){var e=document.getElementById("banner-wrapper");e.style.background="url("+o+") no-repeat top center fixed",e.innerHTML='<p style="display:none;"><a href="https://github.com/">Check me out on :octocat:</a></p>',clearInterval(window.blinkTimer)},i.onerror=function(){console.log("Load the image of octocat failed!"),clearInterval(window.blinkTimer)},e.appendChild(i)}},e.appendChild(t)}function initImgWapper(e){var t=document.createElement("div");return t.id="img-wapper",e.appendChild(t),t}function getMetaInfo(e){var t=document.getElementsByTagName("head")[0],n=t.childNodes,a={};__forEach.call(t.children,function(e){var t=e.getAttribute("name");return"TITLE"===e.nodeName?void(a.title=e.innerText):void(null!==t&&""!==t&&void 0!==t&&(a[t]=e.getAttribute("content")))});for(var o=0,i=n.length;i>o;o++){var r=n[o];if("#comment"===r.nodeName){a.generatedTime=r.data.slice(1,-1);break}}var c=document.getElementById("meta-article");return c&&c.children.length>0&&__forEach.call(c.children,function(e){var t=e.className;if("email"===t)a.email=e.children[0].innerHTML;else if("author"===t){var n=e.innerHTML.match(/\(.*\)/g);n&&(a.author_en=n[0].slice(1,-1)),a.author=e.innerHTML}else a[t]=e.innerHTML}),e===!0&&(console.log("Article's Meta"),__forEach.call(Object.keys(a),function(e){console.log(e.toUpperCase()+": "+a[e])})),a}function showMetaInfo(e,t,n){var a=document.createElement("div"),o="None",i="https://media.githubusercontent.com/media/creamidea/creamidea.github.com/master";n.author_en&&(o="<img class=author-"+n.author_en+" src="+i+"/static/img/"+n.author_en.toLowerCase().replace(/\s/g,"-")+".png></img>"),a.innerHTML='<hr class="section-divider"></hr><div class="card"> <div class="card-avatar">'+o+'</div><div class="card-content"><h3 class="card-name">Author: '+n.author+'</h3><p>Email: <a href="mailto:'+n.email+'">'+n.email+"</a></p><p>Date: "+n.date+"</p><p>Last Modification Time: "+n["last-modification-time"]+"</p></div></div>",t.appendChild(a)}function showBanner(e,t){var n=document.createElement("div");n.id="banner-wrapper",n.innerHTML='<p style="font-size: 16em; margin: 0;">&gt;<span class="blink" data-frequency="700">_</span></p>',e.insertBefore(n,t);var a=t.getElementsByClassName("title");a&&a.length>0&&(a[0].style.display="none"),changeOctoCat(e)}function showHomeButton(e){var t=document.createElement("div"),n=document.createElement("a"),a=document.createElement("img");t.id="avatar-wapper",n.href="/",n.alt="Return",a.src="./img/avatar.png",a.alt="Return",t.appendChild(n),n.appendChild(a),e.appendChild(t)}function showFooter(e,t,n){var a=document.createElement("footer");a.innerHTML='<p><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/">Attribution-NonCommercial-ShareAlike 3.0 China Mainland</a></p></a>Edited by <a href="http://www.gnu.org/software/emacs/">Emacs</a> or Others. Generated by <a href="http://orgmode.org/">Org-mode</a>. Published by <a href="http://nodejs.org/">Node</a> And <a href="https://git-scm.com/">Git</a>. Hosted by <a href="https://github.com/">Github</a>.</p>',e.appendChild(a)}function showTags(e,t,n){if(n.keywords){var a=n.keywords.split(",");if(a&&a.length>0){var o=document.createElement("div"),i=document.getElementById("footnotes"),r="https://g.forestgump.me/#q=";a.forEach(function(e){var t=document.createElement("a");t.href=r+e+"+site:"+window.location.hostname,t.title="Go to "+e,t.innerHTML=e,o.appendChild(t)}),o.id="tags",t.insertBefore(o,i)}}}function ImgClickEvent(e,t){function n(n){var a=t.getElementsByTagName("img"),o=n.target;if("IMG"===o.nodeName||"img-wapper"===o.id)if(a.length>0||"img-wapper"===o.id)t.style.opacity=0,e.style.overflow=null,setTimeout(function(){for(var e=0,n=a.length;n>e;e++)a[e].style.transform="scale(1.25977) translateZ(0)",t.removeChild(a[e]);t.style.display="none"},100);else if(0===a.length){var a=document.createElement("img");a.src=n.target.src,t.appendChild(a),t.style.display="block",setTimeout(function(){t.style.opacity=1,a.style.transform="scale(1.25977) translateZ(0)"},100),e.style.overflow="hidden"}}window.attachEvent?e.attachEvent("click",n):e.addEventListener("click",n,!1)}function genCategories(e,t){var n=t.children[1],a={articles:"Articles",wiki:"Wiki"},o=[],i=[];n?(__forEach.call(n.children,function(e,n){var r,c,l,s=[],d=document.createElement("div");r=e.firstChild.textContent.replace(/\s/g,""),c=a[r],l=e.children[0].children,o.push('<li role="presentation" class="'+r+'"><a onClick=showTabpane("'+r+'") href="#'+r+'">'+c+"</a></li>"),d.className="tab-pane",d.id=r,__forEach.call(l,function(e){var t=e.children[0];t.innerHTML.search(/friends/i)>=0||s.push(t.innerHTML.replace(/(.*) (\d{4}-\d{2}-\d{2})/,'<li class="link"><a href="'+t.getAttribute("href")+'">$1</a><p class="date">Last Modification Time: $2</p></li>'))}),i.push('<div class="tab-pane" id="'+r+'">'+paging(s,t).join(" ")+"</div>")}),o.push('<li role="presentation" class="about"><a href="/static/about.html">Ab<span style="color: #ED462F;font-size: 0.6em;">&hearts;</span>ut</a></li>'),o.push('<li role="presentation" class="friends"><a href="/wiki/friends.html">Friends</a></li>'),o.push('<li role="presentation" class="octocat"><a href="https://octodex.github.com/">Octocats</a></li>'),t.innerHTML='<ul class="nav nav-tabs" role="tablist">'+o.join(" ")+'</ul><div class="tab-content">'+i.join("")+'</div><div class="next-page-left"><a onclick="nextPage(this, -1)">&lt;</a></div><div class="next-page-right"><a onclick="nextPage(this, 1)">&gt;</a></div><div class="page-footer" style="text-align: right; font-size: 1.2em;"></div>'):console.error("At Home Page: Parse content Error! The Org UL isnt exist.")}function blink(){__forEach.call(document.getElementsByClassName("blink"),function(e){var t=e.getAttribute("data-old-color");t||e.setAttribute("data-old-color",e.style.color);var n=parseInt(e.getAttribute("data-frequency"),10);n>0&&(window.blinkTimer=setInterval(function(n,a){n||(n=e),a||(a=t),e&&(e.style.color="white"===e.style.color?t:"white")},n,e,t))})}function showTabpane(e,t){function n(e,t,n){return e=e.replace(/\s*$/g,""),n===t&&e.search(rActive)>=0||(n===t?e+=" active":e=e.replace(rActive,"")),e}t||(t=1),window._category=e;var a=document.getElementById(e),o=a?a.children.length:0;a&&o>1?(document.getElementsByClassName("next-page-left")[0].style.display="block",document.getElementsByClassName("next-page-right")[0].style.display="block"):(document.getElementsByClassName("next-page-left")[0].style.display="none",document.getElementsByClassName("next-page-right")[0].style.display="none"),showPageFooter(t,o),__forEach.call(document.getElementsByClassName("nav-tabs")[0].children,function(t){var a=t.children[0],o=a.getAttribute("href").slice(1),i=t.className;t.className=n(i,e,o)}),__forEach.call(document.getElementsByClassName("tab-content")[0].children,function(a){var o=a.id,i=a.className,r=a.children;a.className=n(i,e,o),__forEach.call(r,function(e,n){var a=parseInt(e.getAttribute("pagnum"),10);e.className=e.className.replace(/\s*active/g,""),a===t&&(e.className=e.className+" active")})})}function paging(e,t){var n=[],a=100,o=e.length,i=0,r=o/a;r=parseInt(r.toString().split(".")[0],10),(0===r||o%a)&&(r+=1);for(var c=0;r>c;c++)n.push('<ul class="page" pagnum="'+(c+1)+'">'+e.slice(i,i+a).join(" ")+"</ul>"),i+=a;return n}function nextPage(e,t){var n,a=window._category,o=parseInt(window._search.pagnum,10)||1,i=document.getElementById(a).children.length;switch(t){case 1:n=o+1>i?1:o+1;break;case-1:n=1>o-1?i:o-1}n&&(showTabpane(a,n),window.location.hash="#"+a+"?pagnum="+n,window._category=a,window._search.pagnum=n)}function showPageFooter(e,t){if(!t){var n=document.getElementById(window._category);t=n?n.children.length:0}var a=document.getElementsByClassName("page-footer")[0];return 1>=t?void(a.style.display="none"):(a.style.display="block",e||(e=window._search.pagnum||1),e>t&&(e=NaN),void(a.innerHTML=e+"/"+t))}function hashBreakDown(){var e=window.location.hash.slice(1),t=e.split("?"),n=t[0],a=t[1]&&t[1].split("&")||[],o={};__forEach.call(a,function(e,t){var n=e.split("=");o[n[0]]=n[1]}),window._category=n,window._search=o}function someHomeFix(e,t,n){t.style.position="relative";var a=window._category,o=parseInt(window._search.pagnum,10)||1;showTabpane(a,o)}function someArticlesFix(e,t,n){function a(e){var t=document.createElement("a");return t.href="#"+e.id,t.innerHTML="#",t}["h2","h3","h4"].forEach(function(e){__forEach.call(document.getElementsByTagName(e),function(e){e.appendChild(a(e))})})}function orgDivHomeAndUpFix(e,t,n,a){var o=document.getElementById("org-div-home-and-up"),i=[{name:"HOME",url:"/"},{name:"GMAIL",url:"mailto:"+n.gmail}],r=[];o||(o=document.createElement("div"),o.id="org-div-home-and-up",e.insertBefore(o,t,!1)),a&&(o.style.position="fixed",o.style.right=0,o.style.zIndex=10),i.forEach(function(e){var t="";if("HOME"!==e.name||!a){if("GMAIL"===e.name.toUpperCase()){var n=["#0C77B6","#D82C2D","#FCCB0A","#0C77B6","#31B454"];e.name.split("").forEach(function(e,a){t+='<span style="color:'+n[a]+';">'+e+"</span>"})}else t=e.name;r.push("<a href="+e.url+">"+t+"</a>")}}),o.innerHTML=r.join(" ")}function loadDisqus(e,t){var n=document.createElement("div");n.className="comm",n.innerHTML='<div class="comm_open_btn" comment="copy from bilibili.com :P" onclick="loadDisqusComment(this)"></div>',t&&t.appendChild(n)}function loadDisqusComment(e){var t=e.parentElement;t.style.display="none";var n=document,a=document.createElement("script");a.src="//creamidea.disqus.com/embed.js",a.setAttribute("data-timestamp",+new Date),(n.head||n.body).appendChild(a);var o=document.getElementById("content"),i=document.createElement("div");i.id="outline_disqus_thread",i.className="outline-2",i.style.marginBottom="44px",i.innerHTML='<h2 id="disqus_thread_header">Comments</h2><div id="disqus_thread"></div>',o.appendChild(i)}function disqus_config(){}function main(){var e=window.location.pathname,t=document.getElementsByTagName("body")[0],n=document.getElementById("content"),a=getMetaInfo(!0),o=!1;"/"===window.location.pathname&&(o=!0),orgDivHomeAndUpFix(t,n,a,o),showTags(t,n,a),o?(hashBreakDown(),genCategories(t,n),showBanner(t,n),someHomeFix(t,n,e),blink()):(ImgClickEvent(t,initImgWapper(t,n)),someArticlesFix(t,n),showMetaInfo(t,n,a),loadDisqus(t,n),showFooter(t,n,a))}var __forEach=Array.prototype.forEach,__slice=Array.prototype.slice,rActive=/active/g;document.addEventListener?document.addEventListener("DOMContentLoaded",function(){main()},!1):window.attachEvent("onDOMContentLoaded",function(){main()});
