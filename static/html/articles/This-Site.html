<!DOCTYPE html>
<html>
<head>
<!-- 2016-10-15 Sat 22:13 -->
<meta  charset="utf-8">
<meta  name="viewport" content="width=device-width, initial-scale=1">
<title>This Site</title>
<meta  name="generator" content="Org-mode">
<meta  name="author" content="Junjia Ni">
<meta  name="description" content="关于本站的一些说明"
>
<meta  name="keywords" content="orgmode,emacs,github-page,github,blog,design,jekyll,static-blog">
<link rel="stylesheet" type="text/css" href="/static/article.css">
</head>
<body>
<div id="content">
<h1 class="title">This Site</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgheadline1">1. 前言</a></li>
<li><a href="#orgheadline9">2. 设计</a>
<ul>
<li><a href="#orgheadline2">2.1. 舍弃Jekyll</a></li>
<li><a href="#orgheadline3">2.2. 又一想法：富前端</a></li>
<li><a href="#orgheadline8">2.3. 全Org-mode(现行方案)</a>
<ul>
<li><a href="#orgheadline4">2.3.1. 创建核心(.emacs)</a></li>
<li><a href="#orgheadline5">2.3.2. 固定开头(snippet)</a></li>
<li><a href="#orgheadline6">2.3.3. 美化字体(CSS)</a></li>
<li><a href="#orgheadline7">2.3.4. 增加互动(JavaScript)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgheadline10">3. 演化历史</a></li>
<li><a href="#orgheadline11">4. 尾声</a></li>
</ul>
</div>
</div>


<div id="outline-container-orgheadline1" class="outline-2">
<h2 id="orgheadline1"><span class="section-number-2">1</span> 前言</h2>
<div class="outline-text-2" id="text-1">
<blockquote>
<p>
时光飞逝，岁月如染。
</p>
</blockquote>

<p>
是的，你没有看错，我又重新设计了一下自己的知识书写系统。荒废了好多年之后，
又回到了这里。最近遇到一些事情感触挺大的。感觉一年过去了，自己也贬值了许多。
我也不知道说什么好，于是我又开始折腾起自己写字的地方。
也许是想找一个地方慢慢的度过这么多时光吧。这么说真是暴殄天物啊！！
</p>

<p>
到现在已经工作差不多一年多了。我成长了多少呢？我感觉我是没有什么实质性的进展，仍然像一个刚刚毕业的学生。
技能上也么有什么大的提升，被人说成刚刚入门。嗯，就是刚刚入门嘛～
</p>
</div>
</div>

<div id="outline-container-orgheadline9" class="outline-2">
<h2 id="orgheadline9"><span class="section-number-2">2</span> 设计</h2>
<div class="outline-text-2" id="text-2">
<p>
下面的文字是介绍这个blog是如何一步一步搭建起来的。（功能比较的弱，&gt;_&lt;）
</p>
</div>

<div id="outline-container-orgheadline2" class="outline-3">
<h3 id="orgheadline2"><span class="section-number-3">2.1</span> 舍弃Jekyll</h3>
<div class="outline-text-3" id="text-2-1">
<p>
不得不说Jekyll是开了一个好头，把我带入了这么神奇的世界。从最初开始接触到现在，Jekyll都给了我很大的启发。
但是，无奈，找了半天，也没有找到对org文件的直接支持，所以之前的实现方案比较的丑陋，使用了2次“编译”的方式解决。
</p>

<p>
首先将org文件用org-mode导出成html，然后再用Jekyll进行2次处理，最终变成一个完成的页面。
现在分支 <a href="https://github.com/creamidea/creamidea.github.com/tree/jekyll">Jekyll</a> 仍然保存着我之前的实现方案。算是对之前的一点点怀念吧。
</p>

<p>
可以看到，通过上面的步骤来进行文章的编写和发布，比之前直接编写md文件多了一步，这个让我非常的不爽。但是为了不写md，而写org，我选择了隐忍。就这么持续了几个月。
期间一直想改变这个，重新设计。于是有了下面的想法。
</p>
</div>
</div>

<div id="outline-container-orgheadline3" class="outline-3">
<h3 id="orgheadline3"><span class="section-number-3">2.2</span> 又一想法：富前端</h3>
<div class="outline-text-3" id="text-2-2">
<p>
这个也是在学习了 <b>JavaScript</b> 之后，想提升自己JavaScript水平而产生的一个想法。思路很简单：
</p>

<p>
首先，编写一个前端的解析框架，可以将org格式的文本翻译成html，然后动态的插入的页面中去即可。编写好的org文件被放在了dropbox这类可以存储文件的服务器上面，
通过ajax请求获取（这个可能需要查看相应厂商提供的API来实现）。我找了一个 <a href="https://github.com/creamidea/org-js">这个</a> 来干翻译的事情，看了一下，效果还是很好的。文件通过 Dropbox API 来获取。
</p>

<p>
一切都是这么的美好。但是，问题是我当时没有能过解决通过Ajax从Dropbox获取文件的功能，之后也就不了了之了。
哦，对了，突然想起来，那个解析的js库貌似也是有一点点让我纠结的地方，想通过改源代码实现自己的效果，但是奈何当时技术不行，搞了一个国庆也没有完成。之后也就不了了之了。
（PS：那个国庆回了一次学校，见了 <a href="https://forestgump.me/">van9ogh</a> 和 <a href="https://github.com/JohnChain">JohnChain</a> ，在学校的湖边写了一会儿代码，再也没有那个时光了。
国庆之后因为工作上的事情，也没有时间搞这个了。如果有空，再说吧。估计，应该是不会来搞这个解决方案了。
因为我有了现在的方案。）
</p>
</div>
</div>

<div id="outline-container-orgheadline8" class="outline-3">
<h3 id="orgheadline8"><span class="section-number-3">2.3</span> 全Org-mode(现行方案)</h3>
<div class="outline-text-3" id="text-2-3">
<p>
嗯，这次我全部用Org-mode这个来实现现在的文章发布系统。其实也是很简单的，就是之前的Jekyll方案中去掉了Jekyll二次编译的那一步。通过自己写js来进行交互，写css来美化网站。
当然，功能上也会比之前的弱一点。但是没有什么关系，我想了其它的替代方案。理论上，还是说的过去的:)
</p>

<p>
2015-12-26这天我又一次把 blog 重新整合，从 <b>OE-NK</b> 的项目中剥离了出来。去掉了 <code>org-publish</code> 中的 <code>org-publish-attachment</code> 。使用同一个 <b>static</b> 文件夹来存放和文章无关的静态文本。
我突然发现导出速度有了提高，不知道是不是我的幻觉。然后使用 <a href="https://git-lfs.github.com/">Github-LFS</a> 服务，存放静态的图片。解决我之前不知道如何安放图片的问题。
</p>

<p>
感谢 <a href="https://www.flickr.com/">Flickr</a> 之前的免费服务，后面的话主要是放游记、旅游等拍摄的照片。
</p>
</div>

<div id="outline-container-orgheadline4" class="outline-4">
<h4 id="orgheadline4"><span class="section-number-4">2.3.1</span> 创建核心(.emacs)</h4>
<div class="outline-text-4" id="text-2-3-1">
<p>
通过编辑.emacs文件，来实现对org文件的导出。最近也是学习了一些elisp的语法，所以对之前直接copy来的项目配置做了一些修改。
主要是将项目地址变量化，这样子变动项目路径也会相对方便一点。需要说明的是这个 <code>`()</code> ，
这个语法结构让列表中的元素可以选择性的求解。
比如这里的 <code>creamidea</code> 可以被求解。
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp"><span style="color: #969896; font-style: italic;">;;; </span><span style="color: #969896; font-style: italic;">package --- Summary</span>
<span style="color: #969896; font-style: italic;">;;; </span><span style="color: #969896; font-style: italic;">Commentary:</span>

<span style="color: #969896; font-style: italic;">;;; </span><span style="color: #969896; font-style: italic;">Code:</span>
&#12;
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(add-hook 'window-configuration-change-hook</span>
<span style="color: #969896; font-style: italic;">;;           </span><span style="color: #969896; font-style: italic;">(lambda ()</span>
<span style="color: #969896; font-style: italic;">;;             </span><span style="color: #969896; font-style: italic;">(setq frame-title-format</span>
<span style="color: #969896; font-style: italic;">;;                   </span><span style="color: #969896; font-style: italic;">(concat</span>
<span style="color: #969896; font-style: italic;">;;                    </span><span style="color: #969896; font-style: italic;">;; "creamidea@gmail.com: "</span>
<span style="color: #969896; font-style: italic;">;;                    </span><span style="color: #969896; font-style: italic;">;; invocation-name "@" system-name ": "</span>
<span style="color: #969896; font-style: italic;">;;                    </span><span style="color: #969896; font-style: italic;">"Au9ustTrek@" system-name ":"</span>
<span style="color: #969896; font-style: italic;">;;                    </span><span style="color: #969896; font-style: italic;">(replace-regexp-in-string</span>
<span style="color: #969896; font-style: italic;">;;                     </span><span style="color: #969896; font-style: italic;">(concat "/home/" user-login-name) "~"</span>
<span style="color: #969896; font-style: italic;">;;                     </span><span style="color: #969896; font-style: italic;">(or buffer-file-name "%b"))))))</span>
<span style="color: #c5c8c6;">(</span>custom-set-variables
 <span style="color: #b5bd68;">'</span><span style="color: #8abeb7;">(</span>user-full-name <span style="color: #8abeb7;">"Junjia Ni"</span><span style="color: #8abeb7;">)</span>
 <span style="color: #b5bd68;">'</span><span style="color: #8abeb7;">(</span>user-mail-address <span style="color: #8abeb7;">"creamidea@gmail.com"</span><span style="color: #8abeb7;">)</span>
 <span style="color: #b5bd68;">'</span><span style="color: #8abeb7;">(</span>display-battery-mode t<span style="color: #8abeb7;">)</span>
 <span style="color: #b5bd68;">'</span><span style="color: #8abeb7;">(</span>display-time-mode t<span style="color: #8abeb7;">)</span>
 <span style="color: #b5bd68;">'</span><span style="color: #8abeb7;">(</span>menu-bar-mode nil<span style="color: #8abeb7;">)</span>
 <span style="color: #b5bd68;">'</span><span style="color: #8abeb7;">(</span>tool-bar-mode nil<span style="color: #8abeb7;">)</span>
 <span style="color: #b5bd68;">'</span><span style="color: #8abeb7;">(</span>custom-enabled-themes <span style="color: #f0c674;">(</span><span style="color: #b5bd68;">quote</span> <span style="color: #b5bd68;">(</span>sanityinc-tomorrow-night<span style="color: #b5bd68;">)</span><span style="color: #f0c674;">)</span><span style="color: #8abeb7;">)</span><span style="color: #c5c8c6;">)</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">font family: Hack, Monaco</span>
<span style="color: #c5c8c6;">(</span>custom-set-faces
 <span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">Monaco; DejaVu Sans Mono;</span>
 <span style="color: #b5bd68;">'</span><span style="color: #8abeb7;">(</span>default <span style="color: #f0c674;">(</span><span style="color: #b5bd68;">(</span>t <span style="color: #81a2be;">(</span><span style="color: #b294bb;">:family</span> <span style="color: #8abeb7;">"Hack"</span> <span style="color: #b294bb;">:weight</span> Regular <span style="color: #b294bb;">:height</span> 120 <span style="color: #b294bb;">:width</span> normal<span style="color: #81a2be;">)</span><span style="color: #b5bd68;">)</span><span style="color: #f0c674;">)</span><span style="color: #8abeb7;">)</span><span style="color: #c5c8c6;">)</span>

<span style="color: #969896; font-style: italic;">;;; </span><span style="color: #969896; font-style: italic;">Setting Chinese Font</span>
<span style="color: #c5c8c6;">(</span><span style="color: #b5bd68;">if</span> <span style="color: #8abeb7;">(</span>display-graphic-p<span style="color: #8abeb7;">)</span>
    <span style="color: #8abeb7;">(</span><span style="color: #b5bd68;">dolist</span> <span style="color: #f0c674;">(</span>charset <span style="color: #b5bd68;">'</span><span style="color: #b5bd68;">(</span>kana han symbol cjk-misc bopomofo<span style="color: #b5bd68;">)</span><span style="color: #f0c674;">)</span>
      <span style="color: #f0c674;">(</span>set-fontset-font
       <span style="color: #b5bd68;">(</span>frame-parameter nil <span style="color: #b5bd68;">'</span><span style="color: #81a2be;">font</span><span style="color: #b5bd68;">)</span>
       charset
       <span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(font-spec :family "PingFang SC" :size 14))))</span>
       <span style="color: #b5bd68;">(</span>font-spec <span style="color: #b294bb;">:family</span> <span style="color: #8abeb7;">"Microsoft Yahei"</span> <span style="color: #b294bb;">:size</span> 14 <span style="color: #b294bb;">:height</span> 15<span style="color: #b5bd68;">)</span><span style="color: #f0c674;">)</span><span style="color: #8abeb7;">)</span><span style="color: #c5c8c6;">)</span>

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">themes:</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">'(custom-enabled-themes (quote (sanityinc-solarized-dark)))</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">sanityinc-tomorrow-night</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">sanityinc-solarized-light</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">sanityinc-solarized-dark</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">sanityinc-tomorrow-eighties</span>

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(x-focus-frame nil)</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">:font Menlo Monaco Fira-Mono Source-Code-Pro</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(let ((my-favourite-font "Fira Mono")</span>
<span style="color: #969896; font-style: italic;">;;       </span><span style="color: #969896; font-style: italic;">(my-font-size "16"))</span>
<span style="color: #969896; font-style: italic;">;;   </span><span style="color: #969896; font-style: italic;">(add-to-list 'initial-frame-alist `(font . ,(concat my-favourite-font "-" my-font-size)))</span>
<span style="color: #969896; font-style: italic;">;;   </span><span style="color: #969896; font-style: italic;">(add-to-list 'default-frame-alist `(font . ,(concat my-favourite-font "-" my-font-size)))</span>
<span style="color: #969896; font-style: italic;">;;   </span><span style="color: #969896; font-style: italic;">(set-face-attribute 'default nil :family my-favourite-font :height 160))</span>

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">emacs-color-themes</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">https://github.com/owainlewis/emacs-color-themes</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(add-to-list 'custom-theme-load-path "~/.emacs.d/themes/emacs-color-themes/themes")</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(load-theme 'brin t)</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(load-theme 'junio t)</span>

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">solarized</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(add-to-list 'custom-theme-load-path "~/.emacs.d/themes/emacs-color-theme-solarized")</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(load-theme 'solarized t)</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(custom-set-variables</span>
<span style="color: #969896; font-style: italic;">;;  </span><span style="color: #969896; font-style: italic;">'(solarized-termcolors 256)</span>
<span style="color: #969896; font-style: italic;">;;  </span><span style="color: #969896; font-style: italic;">'(solarized-contrast 'high)</span>
<span style="color: #969896; font-style: italic;">;;  </span><span style="color: #969896; font-style: italic;">'(solarized-visibility 'high)</span>
<span style="color: #969896; font-style: italic;">;;  </span><span style="color: #969896; font-style: italic;">'(solarized-degrade t))</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(set-frame-parameter nil 'background-mode 'dark)</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(set-terminal-parameter nil 'background-mode 'dark)</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(enable-theme 'solarized)</span>

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">tomorrow-theme</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(require 'color-theme-sanityinc-tomorrow)</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(load-theme 'color-theme-sanityinc-tomorrow-night)</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(load-file "~/.emacs.d/themes/tomorrow-theme/color-theme-tomorrow.el")</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(require 'color-theme-tomorrow)</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(load-theme 'tomorrow-night-bright t)</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(load-theme 'tomorrow-night t)</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(load-theme 'tomorrow-night tomorrow-night-eighties t)</span>
&#12;
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">or use (string-equal system-type "windows-nt")</span>
<span style="color: #c5c8c6;">(</span><span style="color: #b5bd68;">when</span> window-system
  <span style="color: #8abeb7;">"1) try to improve slow performance on windows."</span>
  <span style="color: #8abeb7;">(</span>set-frame-size <span style="color: #f0c674;">(</span>selected-frame<span style="color: #f0c674;">)</span> 80 24<span style="color: #8abeb7;">)</span>
  <span style="color: #8abeb7;">(</span><span style="color: #b5bd68;">setq</span> w32-get-true-file-attributes nil<span style="color: #8abeb7;">)</span><span style="color: #c5c8c6;">)</span>
<span style="color: #c5c8c6;">(</span><span style="color: #b5bd68;">setq</span> default-directory <span style="color: #8abeb7;">"~/Repository/"</span><span style="color: #c5c8c6;">)</span>
<span style="color: #c5c8c6;">(</span><span style="color: #b5bd68;">setq</span> make-backup-files nil<span style="color: #c5c8c6;">)</span>
<span style="color: #c5c8c6;">(</span><span style="color: #b5bd68;">setq</span> vc-handled-backends nil<span style="color: #c5c8c6;">)</span>
<span style="color: #c5c8c6;">(</span><span style="color: #b5bd68;">setq</span> vc-make-backup-files t<span style="color: #c5c8c6;">)</span>
<span style="color: #c5c8c6;">(</span><span style="color: #b5bd68;">setq</span> visible-bell t<span style="color: #c5c8c6;">)</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(setq linum-mode t)</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(set-language-environment "UTF-8")</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(format-time-string "%d %b %Y")</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">set transparency</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(set-frame-parameter (selected-frame) 'alpha '(95 95))</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(add-to-list 'default-frame-alist '(alpha 95 95))</span>
&#12;
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">Require</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">yasnippet</span>
<span style="color: #c5c8c6;">(</span>require-package <span style="color: #b5bd68;">'</span><span style="color: #81a2be;">yasnippet</span><span style="color: #c5c8c6;">)</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(after-load 'yasnippet</span>
<span style="color: #969896; font-style: italic;">;;   </span><span style="color: #969896; font-style: italic;">(yas-global-mode 1))</span>
<span style="color: #c5c8c6;">(</span>yas-global-mode 1<span style="color: #c5c8c6;">)</span>

&#12;
<span style="color: #c5c8c6;">(</span><span style="color: #b5bd68;">require</span> <span style="color: #b5bd68;">'</span><span style="color: #81a2be;">epa-file</span><span style="color: #c5c8c6;">)</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(setq epa-file-select-keys nil)</span>
<span style="color: #c5c8c6;">(</span>global-set-key <span style="color: #8abeb7;">(</span>kbd <span style="color: #8abeb7;">"C-c g e"</span><span style="color: #8abeb7;">)</span> <span style="color: #b5bd68;">'</span><span style="color: #81a2be;">epa-encrypt-region</span><span style="color: #c5c8c6;">)</span>
<span style="color: #c5c8c6;">(</span>global-set-key <span style="color: #8abeb7;">(</span>kbd <span style="color: #8abeb7;">"C-c g d"</span><span style="color: #8abeb7;">)</span> <span style="color: #b5bd68;">'</span><span style="color: #81a2be;">epa-decrypt-region</span><span style="color: #c5c8c6;">)</span>
<span style="color: #c5c8c6;">(</span>global-set-key <span style="color: #8abeb7;">(</span>kbd <span style="color: #8abeb7;">"C-c g v"</span><span style="color: #8abeb7;">)</span> <span style="color: #b5bd68;">'</span><span style="color: #81a2be;">epa-verify-region</span><span style="color: #c5c8c6;">)</span>
<span style="color: #c5c8c6;">(</span>global-set-key <span style="color: #8abeb7;">(</span>kbd <span style="color: #8abeb7;">"C-c g s"</span><span style="color: #8abeb7;">)</span> <span style="color: #b5bd68;">'</span><span style="color: #81a2be;">epa-sign-region</span><span style="color: #c5c8c6;">)</span>

&#12;
<span style="color: #c5c8c6;">(</span><span style="color: #b5bd68;">defun</span> <span style="color: #de935f;">insert-comment</span> <span style="color: #8abeb7;">()</span>
  <span style="color: #8abeb7;">(</span><span style="color: #b5bd68;">interactive</span><span style="color: #8abeb7;">)</span>
  <span style="color: #8abeb7;">(</span>insert
   <span style="color: #f0c674;">(</span>format
    <span style="color: #8abeb7;">"/**%s</span><span style="color: #f0c674;">\</span><span style="color: #b294bb;">n</span><span style="color: #8abeb7;"> */"</span>
    <span style="color: #b5bd68;">(</span>mapconcat <span style="color: #b5bd68;">'</span><span style="color: #81a2be;">identity</span>
               <span style="color: #81a2be;">(</span>mapcar
                <span style="color: #c5c8c6;">(</span><span style="color: #b5bd68;">lambda</span> <span style="color: #8abeb7;">(</span>x<span style="color: #8abeb7;">)</span> <span style="color: #8abeb7;">(</span>append myComment <span style="color: #f0c674;">(</span>format <span style="color: #8abeb7;">"</span><span style="color: #f0c674;">\</span><span style="color: #b294bb;">n</span><span style="color: #8abeb7;"> * %s"</span> x<span style="color: #f0c674;">)</span><span style="color: #8abeb7;">)</span><span style="color: #c5c8c6;">)</span>
                <span style="color: #c5c8c6;">(</span>split-string <span style="color: #8abeb7;">(</span>buffer-string<span style="color: #8abeb7;">)</span> <span style="color: #8abeb7;">"</span><span style="color: #f0c674;">\</span><span style="color: #b294bb;">n</span><span style="color: #8abeb7;">"</span> t<span style="color: #c5c8c6;">)</span><span style="color: #81a2be;">)</span> <span style="color: #8abeb7;">" "</span><span style="color: #b5bd68;">)</span><span style="color: #f0c674;">)</span><span style="color: #8abeb7;">)</span><span style="color: #c5c8c6;">)</span>
&#12;
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">auto mode alist</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(add-to-list 'auto-mode-alist '("\\.gpg\\'" . text-mode))</span>

&#12;
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">keymap binding</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">set M-space to setmark, repalce C-@ with C-space</span>
<span style="color: #c5c8c6;">(</span>global-set-key <span style="color: #8abeb7;">(</span>kbd <span style="color: #8abeb7;">"M-&lt;SPC&gt;"</span><span style="color: #8abeb7;">)</span> <span style="color: #b5bd68;">'</span><span style="color: #81a2be;">set-mark-command</span><span style="color: #c5c8c6;">)</span>
&#12;
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(server-start)</span>

<span style="color: #c5c8c6;">(</span><span style="color: #b5bd68;">provide</span> <span style="color: #b5bd68;">'</span><span style="color: #81a2be;">init-local</span><span style="color: #c5c8c6;">)</span>
<span style="color: #969896; font-style: italic;">;;; </span><span style="color: #969896; font-style: italic;">init-local.el ends here</span>
</pre>
</div>

<p>
复制完成之后，在.emacs这个buffer下面，按住 <code>M-x</code> 调出输入命令的buffer，然后输入 <code>eval-buffer</code> 即可。
可以当场生效，不需要重启Emacs。
</p>
</div>
</div>

<div id="outline-container-orgheadline5" class="outline-4">
<h4 id="orgheadline5"><span class="section-number-4">2.3.2</span> 固定开头(snippet)</h4>
<div class="outline-text-4" id="text-2-3-2">
<p>
我使用的是 <a href="http://emacswiki.org/emacs/Yasnippet">Yasnippet</a> 这个自动“填充”工具。然后写了一个这个 <b>Snippet</b>
</p>
<div class="org-src-container">

<pre class="src src-org"><span style="color: #969896; font-style: italic;"># -*- mode: snippet -*-</span>
<span style="color: #969896; font-style: italic;"># name: blog</span>
<span style="color: #969896; font-style: italic;"># key: blog</span>
<span style="color: #969896; font-style: italic;"># --</span>
<span style="color: #b5bd68;">#+TITLE:</span> <span style="color: #de935f; font-size: 144%; font-weight: bold;">${1:No Title}</span>
${2:$$(yas-choose-value '("#+AUTHOR: &#20912;&#31958;&#28779;&#31661;&#31570;(Junjia Ni)\n#+EMAIL: creamidea(AT)gmail.com" "#+AUTHOR: &#34562;&#34588;&#29980;&#29980;&#22280;(Yi Ou)\n#+EMAIL: 718413182(AT)qq.com"))}
<span style="color: #b5bd68;">#+DATE:</span> <span style="color: #8abeb7;">`(format-time-string "%Y-%m-%d" (current-time))`</span>
<span style="color: #969896; font-style: italic;">#+CATEGORY: article</span>
<span style="color: #969896; font-style: italic;">#+DESCRIPTION: ${3:$1}</span>
<span style="color: #969896; font-style: italic;">#+KEYWORDS: ${4:emacs,orgmode}</span>
<span style="color: #969896; font-style: italic;">#+OPTIONS: H:4 num:t toc:t \n:nil @:t ::t |:t ^:nil f:t tex:nil email:t &lt;:t date:t timestamp:t</span>
<span style="color: #969896; font-style: italic;">#+LINK_HOME: <a href="https://creamidea.github.io">https://creamidea.github.io</a></span>
<span style="color: #969896; font-style: italic;">#+STARTUP: showall</span>


<span style="color: #81a2be;">* &#21069;&#35328;</span>
$0
<span style="color: #81a2be;">* &#23614;&#22768;</span>
</pre>
</div>

<p>
稍作修改即可，然后打开.emacs文件。在.emacs这个buffer下面，按住 <code>M-x</code> 调出输入命令的buffer，然后输入 <code>eval-buffer</code> 即可。
可以当场生效，不需要重启Emacs。
</p>
</div>
</div>

<div id="outline-container-orgheadline6" class="outline-4">
<h4 id="orgheadline6"><span class="section-number-4">2.3.3</span> 美化字体(CSS)</h4>
<div class="outline-text-4" id="text-2-3-3">
<p>
为了达到美观的阅读效果，参考了 <a href="https://medium.com">medium</a> 的设计哲学，
文章正文部分采用居中、width:700px的样式，正文字体使用-apple-system，标签放在正文底部等。
达到的效果如本文所示。<a href="../static/style.css">style.css</a>
</p>
</div>
</div>

<div id="outline-container-orgheadline7" class="outline-4">
<h4 id="orgheadline7"><span class="section-number-4">2.3.4</span> 增加互动(JavaScript)</h4>
<div class="outline-text-4" id="text-2-3-4">
<p>
为了实现一些交互效果，
如：首页公式(banner)的处理，图片点击放大，显示标签，显示文章元信息（打开终端即可用看见）等，
都是通过js来动态处理的，然后这个写的比较的丑陋，不是很美，后面有空的时候要来改一下。<a href="../static/app.js">app.js</a>
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline10" class="outline-2">
<h2 id="orgheadline10"><span class="section-number-2">3</span> 演化历史</h2>
<div class="outline-text-2" id="text-3">
<ul class="org-ul">
<li>2015-12-26 从 OE-NK 项目中剥离，自成体系。去掉了 <b>org-publish</b> 带的 <code>org-publish-attachment</code> 功能，使结构精简</li>
<li>2015-12-08 增加首页分页的机制，每页显示4个。另修复首页banner图片为加载完成出现白屏的问题</li>
<li>2015-11-26 增加Google Analytics.js</li>
<li>2015-11-24 首页改版，增加一些动画效果</li>
<li>2015-11-17 将预览发布功能和文章库分离，具体的可以看 <a href="./OE-NK.html">OE-NK</a></li>
<li>2015-11-14 增加预览／发布功能</li>
<li>2015-11-13 增加Disqus社会化评论功能，将文章和发布版本分开</li>
<li>2015-11-09 初始化版本</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline11" class="outline-2">
<h2 id="orgheadline11"><span class="section-number-2">4</span> 尾声</h2>
<div class="outline-text-2" id="text-4">
<p>
基本上，这个就是全部的内容了。写完一篇文章之后，可以使用 <code>C-c x</code> 进行文章的发布。效果就是现在这个效果了。
</p>

<p>
之前还做了上文和下文之间的链接，一些快捷键的功能，在这个版本中我都去掉了。
我的想法是可以回到首页（目录）进行选择跳转。回到首页的按钮我暂时也不准备做，
可以通过浏览器的回退按钮回到首页，前提是你是从那里过来的。也可以修改URL来达到同样的目的。
充分利用浏览器本身的设计理念。
</p>

<p>
关于标签的这个功能，我交给了Google搜索引擎，我拼接了链接，点击标签即可。可能会由于Google搜录的速度，
及时性可能不是那么的好。但是，这个小站估计也没有什么点击量，自己玩玩就好了。PS：因为Google在天朝水土
不服，所以我用了我一个朋友(<a href="https://forestgump.me/">@forestgump</a>)的Google搜索代理，如果感兴趣可以去了解一些，或者资助一下:)
后面如果有兴趣，可以考虑写一段elisp代码来搞定这个。
</p>

<p>
关于代码高亮，这个我暂时也不搞了，有兴趣的可以用 <a href="https://highlightjs.org">highlight.js</a> 来搞定。
我准备后面如果有时间自己来实现一下玩玩。（哎，又是以后，不知道又要到什么时候来填坑了。）
</p>

<p>
关于评论的问题，可以采用 <a href="https://disqus.com/">disqus</a> 来解决。因为考虑到目前没有这个需求，所以暂时就不搞了。
有需要的时候再加上去吧。
</p>

<p>
关于图片，我使用了 <a href="http://www.flickr.com/">flickr</a> 的服务。感觉还行吧（现在已经被qiang了，我最近在想换哪一家呢？）。
就是获取图片的链接比较的麻烦，后面想想要不用chrome脚本搞定，或者换一家（笑）。
后来我把一些类似于结构图的这种图片放到了 github-lfs 的服务上面 :-)
</p>

<p>
关于之前的文章，我移动了 <b>_draft</b> 这个目录下边，感兴趣的可以去 <a href="https://github.com/creamidea/creamidea.github.com/tree/master/_draft">这里</a> 看看。因为要有一个全新的开始嘛～。
404页面也不做了，反正也是抄，直接用Github的吧。
</p>

<p>
其他的问题，后面边写边改吧，哦，对了，如果你感兴趣，可以fork一下自己修改 :)
</p>

<p>
有什么问题，写信给我就好了。我会及时回复的，邮箱地址请戳页脚上的作者，或者在 <a href="https://github.com/creamidea/creamidea.github.com/issues">issue</a> 这里创建你的问题:)
</p>

<p>
嘛～自娱自乐。以上です。
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<meta name="viewport" content="width=device-width, initial-scale=1"><div id="meta-article"><p class="author">Junjia Ni</p>
<p class="email"><a href="mailto:creamidea@gmail.com">creamidea@gmail.com</a></p>
<p class="date">2015-12-27</p>
<p class="export-date">2016-10-15 Sat 22:13</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.1.1 (<a href="http://orgmode.org">Org</a> mode 8.3.6)</p>
<p class="validation"></p>
<p class="last-modification-time">2016-05-09 Mon 23:22</p></div><script async src="/static/article.js"></script><!-- Google Analytics --><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create', 'UA-38213594-1', 'auto');ga('send', 'pageview');</script><script async src='//www.google-analytics.com/analytics.js'></script><!-- End Google Analytics -->
</div>
</body>
</html>
