"use strict";function changeOctoCat2(e){var t=document.createElement("iframe");t.style.display="none",t.src="https://octodex.github.com/",t.id="octodex",t.onload=function(){console.log("iframe load success")},e.appendChild(t)}function changeOctoCat(e){var t=document.createElement("script");t.src="/static/octodex-data.js",t.onload=function(){var t=window.octodex;if(t){var n=t.length,a=t[Math.round(1e4*Math.random(n)%n)];if(!a.src)return void console.log("Now, I want to load ",a,". But failed!");var i="https://octodex.github.com"+a.src,o=document.createElement("img");o.style.display="none",o.src=i,o.onload=function(){var e=document.getElementById("banner-wrapper");e.style.background="url("+i+") no-repeat top center fixed",e.style.backgroundSize="424px 424px",e.innerHTML='<p style="display: block;margin:0;position:absolute;bottom:0;left:1%;right:1%;line-height:0.7;"><a href="https://github.com/" alt="Check me out on :octocat:" title="Check me out on :octocat:" style="color:black;font-size:16px;font-family:Georgia1,Georgia,Times New Roman,Times,serif;font-style: italic;">'+a.title+"</a></p>",clearInterval(window.blinkTimer)},o.onerror=function(){console.log("Load the image of octocat failed!"),clearInterval(window.blinkTimer)},e.appendChild(o)}},e.appendChild(t)}function initImgWapper(e){var t=document.createElement("div");return t.id="img-wapper",e.appendChild(t),t}function getMetaInfo(e){var t=document.getElementsByTagName("head")[0],n=t.childNodes,a={};__forEach.call(t.children,function(e){var t=e.getAttribute("name");return"TITLE"===e.nodeName?void(a.title=e.innerText):void(null!==t&&""!==t&&void 0!==t&&(a[t]=e.getAttribute("content")))});for(var i=0,o=n.length;o>i;i++){var r=n[i];if("#comment"===r.nodeName){a.generatedTime=r.data.slice(1,-1);break}}var s=document.getElementById("meta-article");return s&&s.children.length>0&&__forEach.call(s.children,function(e){var t=e.className;if("email"===t)a.email=e.children[0].innerHTML;else if("author"===t){var n=e.innerHTML.match(/\(.*\)/g);a.author_en=n?n[0].slice(1,-1):"Junjia Ni",a.author=e.innerHTML}else a[t]=e.innerHTML}),e===!0&&(console.log("Article's Meta"),__forEach.call(Object.keys(a),function(e){console.log(e.toUpperCase()+": "+a[e])})),a}function showMetaInfo(e,t,n){var a=document.createElement("div"),i="Avatar loaeed failure.",o="https://media.githubusercontent.com/media/creamidea/creamidea.github.com/master";n.author_en&&(i="<img class=author-"+n.author_en+" src="+o+"/static/img/"+n.author_en.toLowerCase().replace(/\s/g,"-")+".png></img>"),a.innerHTML='<hr class="section-divider"></hr><div class="card"> <div class="card-avatar">'+i+'</div><div class="card-content"><h3 class="card-name">Author: '+n.author+'</h3><p>Email: <a href="mailto:'+n.email+'">'+n.email+"</a></p><p>Date: "+n.date+"</p><p alt='Last Modification Time'>LMT: "+n["last-modification-time"]+"</p></div></div>",t.appendChild(a)}function showBanner(e,t){var n=document.createElement("div");n.id="banner-wrapper",n.innerHTML='<p style="font-size: 14em; margin: 0;">&gt;<span class="blink" data-frequency="700">_</span></p>',e.insertBefore(n,t);var a=t.getElementsByClassName("title");a&&a.length>0&&(a[0].style.display="none"),changeOctoCat(e)}function showHomeButton(e){var t=document.createElement("div"),n=document.createElement("a"),a=document.createElement("img");t.id="avatar-wapper",n.href="/",n.alt="Return",a.src="./img/avatar.png",a.alt="Return",t.appendChild(n),n.appendChild(a),e.appendChild(t)}function showFooter(e){var t=document.createElement("footer");t.innerHTML='<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.<br /></a>Edited by <a href="http://www.gnu.org/software/emacs/">Emacs</a> or Others. Generated by <a href="http://orgmode.org/">Org-mode</a>. Published by <a href="http://nodejs.org/">Node</a> And <a href="https://git-scm.com/">Git</a>. Hosted by <a href="https://github.com/">Github</a>.</p>',e.appendChild(t)}function showTags(e,t,n){if(n.keywords){var a=n.keywords.split(",");if(a&&a.length>0){var i=document.createElement("div"),o=document.getElementById("footnotes"),r="https://g.forestgump.me/#q=";a.forEach(function(e){var t=document.createElement("a");t.href=r+e+"+site:"+window.location.hostname,t.title="Go to "+e,t.innerHTML=e,i.appendChild(t)}),i.id="tags",t.insertBefore(i,o)}}}function ImgClickEvent(e,t){function n(n){var a=t.getElementsByTagName("img"),i=n.target;if("IMG"===i.nodeName||"img-wapper"===i.id)if(a.length>0||"img-wapper"===i.id)t.style.opacity=0,e.style.overflow=null,setTimeout(function(){for(var e=0,n=a.length;n>e;e++)a[e].style.transform="scale(1.25977) translateZ(0)",t.removeChild(a[e]);t.style.display="none"},100);else if(0===a.length){var a=document.createElement("img");a.src=n.target.src,t.appendChild(a),t.style.display="block",setTimeout(function(){t.style.opacity=1,a.style.transform="scale(1.25977) translateZ(0)"},100),e.style.overflow="hidden"}}window.attachEvent?e.attachEvent("click",n):e.addEventListener("click",n,!1)}function genCategories(e,t){var n=t.children[1],a={articles:"Articles",wiki:"Wiki"},i=[],o=[];n?(__forEach.call(n.children,function(e){var n,r,s,l=[],c=document.createElement("div");n=e.firstChild.textContent.replace(/\s/g,""),"wiki"!==n&&(r=a[n],s=e.children[0].children,i.push('<li role="presentation" class="'+n+'"><a onClick=showTabpane("'+n+'") href="#'+n+'">'+r+"</a></li>"),c.className="tab-pane",c.id=n,__forEach.call(s,function(e){var t=e.children[0];t.innerHTML.search(/friends/i)<0&&l.push(t.innerHTML.replace(/(.*) (\d{4}-\d{2}-\d{2})/,'<li class="link" style="text-align:right;list-style-type: initial;"><p style="margin:0;text-align:left;"><a href="'+t.getAttribute("href")+'">$1</a></p><span class="date">$2</span></li>'))}),o.push('<div class="tab-pane" id="'+n+'">'+paging(l,t).join(" ")+"</div>"))}),i.push('<li role="presentation" class="about"><a href="/static/about.html">Ab<span style="color: #ED462F;font-size: 0.89em;">&hearts;</span>ut</a></li>'),i.push('<li role="presentation" class="friends"><a href="/wiki/friends.html">Friends</a></li>'),t.innerHTML='<ul class="nav nav-tabs" role="tablist">'+i.join(" ")+'</ul><div class="tab-content">'+o.join("")+'</div><div class="next-page-left"><a onclick="nextPage(this, -1)">&lt;</a></div><div class="next-page-right"><a onclick="nextPage(this, 1)">&gt;</a></div><div class="page-footer" style="text-align: right; font-size: 1.2em;"></div>'):console.error("At Home Page: Parse content Error! The Org UL isnt exist.")}function blink(){__forEach.call(document.getElementsByClassName("blink"),function(e){var t=e.getAttribute("data-old-color");t||e.setAttribute("data-old-color",e.style.color);var n=parseInt(e.getAttribute("data-frequency"),10);n>0&&(window.blinkTimer=setInterval(function(n,a){n||(n=e),a||(a=t),e&&(e.style.color="white"===e.style.color?t:"white")},n,e,t))})}function showTabpane(e,t){function n(e,t,n){return e=e.replace(/\s*$/g,""),(n!==t||e.search(rActive)<0)&&(n===t?e+=" active":e=e.replace(rActive,"")),e}t||(t=1),window._category=e;var a=document.getElementById(e),i=a?a.children.length:0;a&&i>1?(document.getElementsByClassName("next-page-left")[0].style.display="block",document.getElementsByClassName("next-page-right")[0].style.display="block"):(document.getElementsByClassName("next-page-left")[0].style.display="none",document.getElementsByClassName("next-page-right")[0].style.display="none"),showPageFooter(t,i),__forEach.call(document.getElementsByClassName("nav-tabs")[0].children,function(t){var a=t.children[0],i=a.getAttribute("href").slice(1),o=t.className;t.className=n(o,e,i)}),__forEach.call(document.getElementsByClassName("tab-content")[0].children,function(a){var i=a.id,o=a.className,r=a.children;a.className=n(o,e,i),__forEach.call(r,function(e){var n=parseInt(e.getAttribute("pagnum"),10);e.className=e.className.replace(/\s*active/g,""),n===t&&(e.className=e.className+" active")})})}function paging(e){var t=[],n=100,a=e.length,i=0,o=a/n;o=parseInt((""+o).split(".")[0],10),(0===o||a%n)&&(o+=1);for(var r=0;o>r;r++)t.push('<ul class="page" pagnum="'+(r+1)+'">'+e.slice(i,i+n).join(" ")+"</ul>"),i+=n;return t}function nextPage(e,t){var n,a=window._category,i=parseInt(window._search.pagnum,10)||1,o=document.getElementById(a).children.length;switch(t){case 1:n=i+1>o?1:i+1;break;case-1:n=1>i-1?o:i-1}n&&(showTabpane(a,n),window.location.hash="#"+a+"?pagnum="+n,window._category=a,window._search.pagnum=n)}function showPageFooter(e,t){if(!t){var n=document.getElementById(window._category);t=n?n.children.length:0}var a=document.getElementsByClassName("page-footer")[0];return t>1?(a.style.display="block",e||(e=window._search.pagnum||1),e>t&&(e=0/0),void(a.innerHTML=e+"/"+t)):void(a.style.display="none")}function hashBreakDown(){var e=window.location.hash.slice(1),t=e.split("?"),n=t[0],a=t[1]&&t[1].split("&")||[],i={};__forEach.call(a,function(e){var t=e.split("=");i[t[0]]=t[1]}),window._category=n,window._search=i}function someHomeFix(e,t){t.style.position="relative";var n=window._category,a=parseInt(window._search.pagnum,10)||1;showTabpane(n,a)}function someArticlesFix(){function e(e){var t=document.createElement("a");return t.href="#"+e.id,t.innerHTML="#",t}["h2","h3","h4"].forEach(function(t){__forEach.call(document.getElementsByTagName(t),function(t){t.appendChild(e(t))})})}function orgDivHomeAndUpFix(e,t,n,a){var i=document.getElementById("org-div-home-and-up"),o=[{name:"HOME",url:"/",text:"&#x2302;"}],r=[];i||(i=document.createElement("div"),i.id="org-div-home-and-up",e.insertBefore(i,t,!1)),a&&(i.style.position="fixed",i.style.right=0,i.style.zIndex=10),o.forEach(function(e){var t="";if("HOME"!==e.name||!a){if("GMAIL"===e.name.toUpperCase()){var n=["#0C77B6","#D82C2D","#FCCB0A","#0C77B6","#31B454"];e.name.split("").forEach(function(e,a){t+='<span style="color:'+n[a]+';">'+e+"</span>"})}else t=e.text;r.push("<a href="+e.url+' title="'+e.name+'">'+t+"</a>")}}),i.innerHTML=r.join(" ")}function loadDisqus(e,t){t&&setTimeout(loadDisqusComment,1314)}function loadDisqusComment(e){if(e){var t=e.parentElement;t.style.display="none"}var n=document,a=document.createElement("script");a.src="//creamidea.disqus.com/embed.js",a.setAttribute("data-timestamp",+new Date),(n.head||n.body).appendChild(a);var i=document.getElementById("content"),o=document.createElement("div");o.id="outline_disqus_thread",o.className="outline-2",o.style.marginBottom="44px",o.innerHTML='<h2 id="disqus_thread_header">Comments</h2><div id="disqus_thread"><p style="text-align:center;font-family: Georgia1,Georgia,Times New Roman,Times,serif;">Disqus is loding...</p></div>',i.appendChild(o)}function disqus_config(){}function main(){var e=window.location.pathname,t=document.getElementsByTagName("body")[0],n=document.getElementById("content"),a=getMetaInfo(!0),i=!1;"/"===window.location.pathname&&(i=!0),orgDivHomeAndUpFix(t,n,a,i),showTags(t,n,a),i?(hashBreakDown(),genCategories(t,n),showBanner(t,n),someHomeFix(t,n,e),blink()):(ImgClickEvent(t,initImgWapper(t,n)),someArticlesFix(t,n),showMetaInfo(t,n,a),loadDisqus(t,n),showFooter(t,n,a))}var __forEach=Array.prototype.forEach,__slice=Array.prototype.slice,rActive=/active/g;document.addEventListener?document.addEventListener("DOMContentLoaded",function(){main()},!1):window.attachEvent("onDOMContentLoaded",function(){main()});
